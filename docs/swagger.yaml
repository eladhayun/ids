definitions:
  models.ChatRequest:
    description: Chat request payload
    properties:
      conversation:
        description: Array of conversation messages
        items:
          $ref: '#/definitions/models.ConversationMessage'
        type: array
    type: object
  models.ChatResponse:
    description: Chat response payload
    properties:
      error:
        description: Error message if any
        example: ""
        type: string
      products:
        additionalProperties:
          type: string
        description: Product name to SKU mapping for link generation
        type: object
      response:
        description: AI response message
        example: Hello! How can I help you today?
        type: string
    type: object
  models.ConversationMessage:
    description: Single message in a conversation
    properties:
      message:
        description: Message content
        example: Hello, how can I help?
        type: string
      role:
        description: Message role (user, assistant, system)
        example: user
        type: string
    type: object
  models.DBHealthResponse:
    description: Database health check response
    properties:
      connected:
        description: Database connection status
        example: true
        type: boolean
      error:
        description: Error message if any
        example: ""
        type: string
      latency:
        description: Database ping latency
        example: 1ms
        type: string
      status:
        description: Health status
        example: healthy
        type: string
      timestamp:
        description: Timestamp of the check
        example: "2023-01-01T00:00:00Z"
        type: string
    type: object
  models.HealthResponse:
    description: Health check response
    properties:
      status:
        description: Health status
        example: healthy
        type: string
      timestamp:
        description: Timestamp of the check
        example: "2023-01-01T00:00:00Z"
        type: string
      version:
        description: Application version
        example: 1.0.0
        type: string
    type: object
info:
  contact: {}
paths:
  /api/:
    get:
      consumes:
      - application/json
      description: Get basic service information
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties:
              type: string
            type: object
      summary: Root endpoint
      tags:
      - general
  /api/chat:
    post:
      consumes:
      - application/json
      description: Send a conversation to the AI chatbot and get a response with vector-based
        product recommendations
      parameters:
      - description: Chat request
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/models.ChatRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/models.ChatResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/models.ChatResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/models.ChatResponse'
        "503":
          description: Service Unavailable
          schema:
            $ref: '#/definitions/models.ChatResponse'
      summary: Chat with AI using vector search
      tags:
      - chat
  /api/healthz:
    get:
      consumes:
      - application/json
      description: Get basic health status of the application
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/models.HealthResponse'
      summary: Health check
      tags:
      - health
  /api/healthz/db:
    get:
      consumes:
      - application/json
      description: Get database connectivity status and latency
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/models.DBHealthResponse'
        "503":
          description: Service Unavailable
          schema:
            $ref: '#/definitions/models.DBHealthResponse'
      summary: Database health check
      tags:
      - health
swagger: "2.0"
